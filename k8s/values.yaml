# This file is intended to be consumed by the umbrella chart script.
# It's not the full "apps" map â€” the deploy script wraps it under apps.<n>
image: app_crm:local
replicas: 1
port: 8080

# Authentication requirement (integrates with projeto_ltp_labs)
requiresAuth: true

env:
  # Database connection (connects to database_crm service)
  DB_HOST: "database-crm-svc"
  DB_PORT: "5432"
  DB_NAME: "demo_db"
  DB_USER: "postgres"
  DB_PASSWORD: "postgres123"

resources:
  limits:
    cpu: "500m"
    memory: "512Mi"
  requests:
    cpu: "200m"
    memory: "256Mi"

serviceType: NodePort

ingress:
  host: app-crm.local
  path: /
  class: nginx